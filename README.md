# 딥러닝과 기술적 분석을 융합한 비트코인 알고리즘 트레이딩

> **GRU 모델의 예측 신뢰도와 RSI 지표를 활용한 리스크 관리 중심의 하이브리드 전략 연구**

[![Python](https://img.shields.io/badge/Python-3.8%2B-blue)](https://www.python.org/)
[![PyTorch](https://img.shields.io/badge/PyTorch-2.0%2B-red)](https://pytorch.org/)
[![License](https://img.shields.io/badge/License-MIT-green)]()

## 1. 프로젝트 개요 및 동기

비트코인 시장은 24시간 열려 있고 변동성이 극심하여, 사람이 직접 대응하기에는 체력적, 심리적 한계가 명확합니다. 따라서 감정을 배제하고 철저히 데이터에 기반하여 매매를 수행하는 **알고리즘 트레이딩 시스템**의 필요성을 느꼈습니다.

단순히 "내일 가격이 오를까?"를 맞추는 것은 동전 던지기(50%)와 다를 바 없습니다. 본 프로젝트의 핵심 목표는 **"언제 확실하게 배팅하고, 언제 시장을 관망해야 하는가?"**를 판단하는 의사결정 시스템을 구축하는 것입니다. 이를 위해 시계열 패턴 학습에 강한 딥러닝 모델(GRU)을 엔진으로 사용하고, 시장의 과열 여부를 판단하는 보조지표(RSI)를 브레이크로 사용하는 복합 전략을 설계했습니다.

- **작성자:** 서채영 (202201750)
- **제출일:** 2025년 12월 13일
- **프로젝트 키워드:** 시계열 예측, 딥러닝, 알고리즘 트레이딩, 리스크 관리

---

## 2. 데이터 전처리 및 입력 변수

모델이 가격 흐름을 입체적으로 이해할 수 있도록 단순 가격 데이터 외에 다양한 시장 정보를 피처로 가공하여 주입했습니다.

* **기초 데이터:** 시가, 고가, 저가, 종가, 거래량 (OHLCV)
* **추세 지표:** 이동평균선의 골든크로스/데드크로스 패턴 학습을 위한 기간별 이동평균 값
* **모멘텀 지표:** 상대강도지수(RSI), MACD 등을 통해 현재 추세의 강도를 수치화
* **변동성 지표:** 볼린저 밴드 등의 변동성 정보를 추가하여 시장 급변 감지

---

## 3. 모델 설계: 왜 GRU인가?

초기에는 가장 대중적인 LSTM 모델을 고려했으나, 실험 결과 **GRU(Gated Recurrent Unit)**가 본 프로젝트에 더 적합하다고 판단했습니다.

### 3.1 아키텍처 선정 이유
1.  **효율성:** 비트코인 데이터는 노이즈가 많아 지나치게 복잡한 모델은 오히려 독이 될 수 있습니다. GRU는 LSTM보다 구조가 단순하여 파라미터 수가 적고, 과적합 위험을 줄이면서도 연산 속도가 빠릅니다.
2.  **성능:** 실제 학습 시 단기적인 가격 등락 패턴을 포착하는 데 있어 LSTM과 대등하거나 소폭 우수한 성능을 보였습니다.

### 3.2 모델 구조 고도화
단순한 1계층 모델은 복잡한 금융 시장의 비선형성을 담아내기에 역부족이었습니다. 따라서 다음과 같이 구조를 개선했습니다.

| 구성 요소 | 설정 값 | 설계 의도 |
|:---:|:---:|:---|
| **Deep Stack** | **2 Layers** | 1층에서는 단순 패턴, 2층에서는 복잡한 추상 패턴 학습 |
| **Hidden Units** | **128 Units** | 모델의 정보 수용량 확대 |
| **Dropout** | **0.3** | 과적합 방지를 위한 정규화 적용 |

---

## 4. 트레이딩 전략: AI와 보조지표의 하이브리드

딥러닝 모델은 간혹 시장의 급변 구간에서 엉뚱한 예측을 할 때가 있습니다. 이를 보완하기 위해 **"AI가 추천하고, 기술적 지표가 승인해야만 매매한다"**는 이중 필터링 전략(Level 4)을 세웠습니다.

### 4.1 전략 로직 상세 (AND 조건)
제 전략은 다음 두 가지 조건이 동시에 충족될 때만 매수를 진행합니다.

1.  **조건 1: 모델의 강력한 확신 (확률 0.65 초과)**
    * 모델 예측 확률이 50% 초반대인 구간은 노이즈일 가능성이 높아 진입하지 않습니다.
    * 확률이 **65% 이상**인 '확실한 구간'만 선별하여 승률을 높였습니다.
2.  **조건 2: RSI를 활용한 고점 판독**
    * AI가 상승을 예측했더라도, 현재 **RSI 지표가 70 이상(과매수)**이라면 "이미 너무 비싸다"고 판단하여 매수를 포기합니다.
    * 반대로 **RSI가 30 이하(과매도)**인 구간에서는 기술적 반등 확률이 높으므로 적극적으로 진입합니다.

---

## 5. 실험 결과 및 성과 분석

2024년 이후의 검증 데이터(Out-of-Sample)를 사용하여 백테스팅을 진행했습니다.

### 5.1 수익률 비교표
| 구분 | 수익률 | 비고 |
|:---:|:---:|:---|
| **Buy & Hold (벤치마크)** | **+2.42%** | 시장 상황 부진으로 낮은 수익률 기록 |
| **제안 모델 전략** | **+8.31%** | 벤치마크 대비 **약 3.4배 성과** |
| **초과 수익** | **+5.89%p** | 리스크 관리를 통한 우수한 방어력 입증 |

### 5.2 시행착오와 최적화 과정
처음부터 좋은 결과가 나온 것은 아닙니다.
* **초기 시도:** 진입 확신도를 0.5(50%)로 설정했을 때는 잦은 매매(285회)로 인해 수수료가 누적되어 수익이 마이너스였습니다.
* **개선:** "거래 횟수를 줄이더라도 확실할 때만 들어가자"는 가설을 세우고 임계값을 **0.65**로 올렸습니다. 그 결과 거래 횟수는 149회로 줄었지만, 손익비가 획기적으로 개선되며 수익 전환에 성공했습니다.

### 5.3 리스크 관리 성과
단순 보유 전략은 하락장에서 계좌가 손실을 입는 것을 지켜봐야 했지만, 제 전략은 하락 시그널이 감지되거나 확신도가 낮을 때 **전량 현금화**를 선택했습니다. 덕분에 하락장의 손실을 방어하고, 이후 상승장에서 수익을 쌓아가는 '우상향 계단식' 자산 곡선을 그릴 수 있었습니다.

---

## 6. 결론 및 향후 연구 과제

이번 프로젝트는 단순히 딥러닝 모델을 돌려보는 것을 넘어, 실제 트레이딩에서 수익을 내기 위해 어떤 고민이 필요한지를 깨닫는 과정이었습니다. 특히 **"모델의 정확도보다 중요한 것은 대응 전략"**이라는 사실을 배웠습니다.

하지만 아쉬운 점도 있습니다. 금융 시장의 노이즈로 인해 모델의 기본 예측 정확도는 50% 중반대에 머물렀습니다. 향후에는 다음과 같은 개선을 시도해보고 싶습니다.

1.  **트랜스포머 도입:** 최신 어텐션 메커니즘을 적용하여 시계열 데이터의 장기 의존성을 더 잘 포착하는 모델 연구.
2.  **대안 데이터 활용:** 뉴스 기사의 감성 지수나 온체인 데이터를 입력 변수로 추가하여 차트 밖의 정보 반영.
3.  **실전적 리스크 관리:** 슬리피지 비용을 모델링에 포함하고, 급락 시 자산을 보호할 자동 손절매 로직 추가.

---
